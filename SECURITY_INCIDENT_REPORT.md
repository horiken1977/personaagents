# セキュリティインシデント報告書

## インシデント概要
- **日時**: 2025年6月30日
- **検出者**: GitGuardian
- **インシデント種別**: AWS秘密鍵の誤コミット

## 発見された問題
- **ファイル名**: `roic/AWS01.pem`
- **ファイル種別**: RSA秘密鍵
- **リポジトリ**: horiken1977/personaagent (公開リポジトリ)

## タイムライン
- **2025年6月29日 16:29**: 秘密鍵ファイルがコミットされる (コミット: 6bcadea)
- **2025年6月30日 13:11**: ファイルが削除される (コミット: ae0629d)  
- **2025年6月30日 15:XX**: GitGuardianによるアラート
- **2025年6月30日 16:XX**: インシデント対応開始

## 実施した対応

### 1. 緊急対応 ✅
- [x] Gitヒストリーからの完全削除 (`git filter-branch`)
- [x] リモートリポジトリへの強制プッシュ
- [x] .gitignoreの強化

### 2. 予防対策 ✅
- [x] .gitignoreに秘密鍵パターンを追加
- [x] AWS関連ファイルの包括的除外設定
- [x] roic/ディレクトリの除外

### 3. 要確認事項 ⚠️
- [ ] **AWS IAMでの該当キーペアの無効化**
- [ ] **CloudTrailログでの不正アクセス確認**
- [ ] **新しいキーペアの生成と配置**

## リスク評価
- **公開期間**: 約21時間
- **影響範囲**: 該当AWSアカウントへの不正アクセス可能性
- **緊急度**: 高

## 今後の対策
1. **即座実行必要**
   - AWS IAMコンソールで該当キーペアを無効化
   - 新しいキーペアを生成して安全に配布
   - CloudTrailで異常なアクセスログを確認

2. **長期対策**
   - pre-commitフックでの秘密情報スキャン導入
   - 開発者向けセキュリティトレーニング実施
   - 定期的なリポジトリスキャン自動化

## 責任者
- **対応者**: [対応者名]
- **確認者**: [確認者名]
- **報告日**: 2025年6月30日

---
**注意**: このインシデントは解決済みですが、AWSアカウントでの追加確認が必要です。